<aside class="share column">
	<a class="share__button share__button--facebook" href="#" target="_blank" title="Share on Facebook">
		<svg class="icon share__icon" viewBox="0 0 24 24" width="22px" height="22px">
			<path d="M19,4V7H17A1,1 0 0,0 16,8V10H19V13H16V20H13V13H11V10H13V7.5C13,5.56 14.57,4 16.5,4M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" />
		</svg>
		<span class="share__text">Share</span>
	</a>
	<a class="share__button share__button--twitter" href="#" target="_blank" title="Share on Twitter">
		<svg class="icon share__icon" viewBox="0 0 24 24" width="22px" height="22px">
			<path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" />
		</svg>
		<span class="share__text">Tweet</span>
	</a>
	<a class="share__button share__button--email" href="#" target="_blank" title="Share via Email">
		<svg class="icon share__icon" viewBox="0 0 24 24" width="22px" height="22px">
			<path d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z" />
		</svg>
		<span class="share__text">Email</span>
	</a>
	<a class="share__button share__button--print" href="#" title="Print this page">
		<svg class="icon share__icon" viewBox="0 0 128 128" width="22px" height="22px">
			<path d="M32 8h64v16h-64v-16z"></path>
			<path d="M120 32h-112c-4.4 0-8 3.6-8 8v40c0 4.4 3.599 8 8 8h24v32h64v-32h24c4.4 0 8-3.6 8-8v-40c0-4.4-3.6-8-8-8zM16 56c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.581 8-8 8zM88 112h-48v-40h48v40z"></path>
		</svg>
		<span class="share__text">Print</span>
	</a>
</aside>
<script>
	!function(){

		/**
		 * Facebook
		 */
		var facebookButton = document.querySelector('.share__button--facebook');
		facebookButton.href = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURIComponent(getURL());
		facebookButton.addEventListener('click', popup.bind(facebookButton));

		/**
		 * Twitter
		 */
		var twitterButton = document.querySelector('.share__button--twitter');
		twitterButton.href = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(document.title) + '&url=' + encodeURIComponent(getURL());
		twitterButton.addEventListener('click', popup.bind(twitterButton));


		/**
		 * Email
		 */
		var emailButton = document.querySelector('.share__button--email');
		var lineBreak = '%0D%0A';
		emailButton.href = 'mailto:?body=' + lineBreak + lineBreak + encodeURIComponent(document.title) + lineBreak + encodeURIComponent(getURL() + '?utm_medium=email');

		/**
		 * Print
		 */
		var printButton = document.querySelector('.share__button--print');
		printButton.addEventListener('click', function(event) {
			event.preventDefault();
			window.print();
		});

		/**
		 * On button click, display popup instead of new tab
		 * @source: http://www.sitepoint.com/social-media-button-links/
		 */
		function popup(event) {
			var width = 600,
				height = 400,
				button = this; // reference to <a> tag provided by explicit .bind()

			// popup position
			var
				px = Math.floor(((screen.availWidth || 1024) - width) / 2),
				py = Math.floor(((screen.availHeight || 700) - height) / 2);

			// open popup
			var popup = window.open(button.href, "social",
				"width="+width+",height="+height+
				",left="+px+",top="+py+
				",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1");

			if (popup) {
				popup.focus();
				event.preventDefault();
			}

			return !!popup;
		}

		function getURL()
		{
			// Remove any existing params & hashes
			return window.location.href.split('?')[0].split('#')[0];
		}

	}();
</script>
